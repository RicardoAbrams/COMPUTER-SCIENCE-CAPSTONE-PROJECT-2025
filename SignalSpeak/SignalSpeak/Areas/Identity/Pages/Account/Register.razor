@page "/Identity/Account/Register"
@using Microsoft.AspNetCore.Identity
@inject UserManager<IdentityUser> UserManager
@inject SignInManager<IdentityUser> SignInManager
@inject NavigationManager Navigation

<h3>Register</h3>

<input placeholder="Email" @bind="Email" />
<input placeholder="Password" type="password" @bind="Password" />
<button @onclick="RegisterUser">Register</button>

@code {
    string Email = "";
    string Password = "";

    private async Task RegisterUser()
    {
        var user = new IdentityUser { UserName = Email, Email = Email };
        var result = await UserManager.CreateAsync(user, Password);
        if (result.Succeeded)
        {
            await SignInManager.SignInAsync(user, true);
            Navigation.NavigateTo("/");
        }
        else
        {
            // handle registration errors
        }
    }
}
